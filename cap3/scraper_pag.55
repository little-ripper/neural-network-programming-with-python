# -*- mode: python-ts; -*-
from bs4 import BeautifulSoup
import requests
import pandas as pd
from io import StringIO


URL = 'https://en.wikipedia.org/wiki/List_of_countries_and_dependencies_and_their_capitals_in_native_languages'

req = requests.get(URL)
soup = BeautifulSoup(req.text, 'lxml')
for link in soup.find_all('a'):
    print(link.get('href'))
tags = soup('img')
for tag in tags:
    print(tag.get('src', None))

table = soup.find("table", {"class": "wikitable"})

if table:
    df = pd.read_html(StringIO(str(table)))[0]
    print(df.head())
else:
    print("No table found!")
